<!-- SPDX-License-Identifier: LGPL-3.0-or-later -->
<!-- Copyright (C) 2022 Alex Jentsch, Whitney Armstrong, Chao Peng -->
<!-- Modified based on IP-8 information Jihee Kim-->

  <define>
    <constant name="CrossingAngle"          value="0.035*rad"/>
    <constant name="ionCrossingAngle"       value="CrossingAngle"/>
    <constant name="electronCrossingAngle"  value="0.000*rad"/>
    <constant name="CrossingSlope"          value="CrossingAngle"/>

    <!-- Beampipe variables are same as IP-6 -->
    <constant name="IPBeampipe_rmax" value="2.501*25.4*mm/2.0"/>
    <constant name="Beampipe_rmax"   value="IPBeampipe_rmax"/>
    <constant name="BeampipeOD"      value="2.0*IPBeampipe_rmax"/>
    
    <comment>
      Hadron Magnets Coordinates for IR8 - machine frame with origin (0.65 m, 0.0 m, 0.057673 m) and + 0.024 rad crossing angle

      ##    name          center position          rin(z-in)     rin(z-out)     length       angle          B         gradient
      ##              x [m]   y [m]    z [m]         [m]            [m]           [m]        [mrad]        [T]          [T/m]
      ##
          BXSP01  0.801778351  0.0  6.340175950  0.24500000000  0.3450000000  1.199999855  -11.00000  1.3000000000  0.0000000000    
         BXSP01A  0.843720782  0.0  8.140036661  0.09000000000  0.1900000000  0.600000000  22.299359  0.0000000000  0.0000000000
        QFFDS01A  0.881626550  0.0  9.839614009  0.06126951284  0.1767972525  2.000000000  22.299359  0.0000000000  -64.31060997
        QFFDS01B  0.935140577  0.0  12.23901732  0.08934379620  0.2267848216  1.800000000  22.299359  0.0000000000  -41.88567780
        QFFDS02A  1.006492613  0.0  15.43822174  0.12244165240  0.2827708988  2.600000000  22.299359  0.0000000000  32.703373210
        QFFDS02B  1.075614898  0.0  18.53745101  0.14241010290  0.3447554844  2.600000000  22.299359  0.0000000000  28.246908810
         BXDS01A  1.171875256  0.0  22.83642329  0.17000000000  0.2700000000  4.999869790  18.051597  4.5869787770  0.0000000000
         BXDS01B  1.134575985  0.0  39.63656728  0.05500000000  0.1550000000  2.599981686  3.7993590  -4.585148964  0.0000000000
           QDS01  1.155478830  0.0  42.48646653  0.04000000000  0.1400000000  1.100000000  10.299359  0.0000000000  20.296269000
        2ndfocus  1.185861402  0.0  45.43631007  0.00000000000  0.0000000000  0.000000000  10.299359  0.0000000000  0.0000000000

      ##  Values taken from: https://wiki.bnl.gov/eic-detector-2/images/d/de/IR8_magnet_layout_12052022.xlsx

      Converted Hadron Magnets Coordinates for IR8 - with origin (0.0 m, 0.0 m, 0.0 m) and + 0.035 rad crossing angle

      ##    name          center position          rin(z-in)     rin(z-out)     length       angle          B         gradient
      ##              x [m]   y [m]    z [m]         [m]            [m]           [m]        [mrad]        [T]          [T/m]
      ##
          BXSP01  0.220875     0.0  6.28045      0.24500000000  0.3450000000  1.199999855  0.00000    1.3000000000  0.0000000000    
         BXSP01A  0.282613     0.0  8.07974      0.09000000000  0.1900000000  0.600000000  33.299359  0.0000000000  0.0000000000
        QFFDS01A  0.339212     0.0  9.7788       0.06126951284  0.1767972525  2.000000000  33.299359  0.0000000000  -64.31060997
        QFFDS01B  0.419115     0.0  12.1775      0.08934379620  0.2267848216  1.800000000  33.299359  0.0000000000  -41.88567780
        QFFDS02A  0.525654     0.0  15.3757      0.12244165240  0.2827708988  2.600000000  33.299359  0.0000000000  32.703373210
        QFFDS02B  0.628863     0.0  18.474       0.14241010290  0.3447554844  2.600000000  33.299359  0.0000000000  28.246908810
         BXDS01A  0.772405     0.0  22.7716      0.17000000000  0.2700000000  4.999869790  29.051597  4.5869787770  0.0000000000
         BXDS01B  0.919906     0.0  39.5712      0.05500000000  0.1550000000  2.599981686  14.7993590  -4.585148964  0.0000000000
           QDS01  0.972156     0.0  42.4207      0.04000000000  0.1400000000  1.100000000  21.299359  0.0000000000  20.296269000
        2ndfocus  1.03498      0.0  45.37        0.00000000000  0.0000000000  0.000000000  21.299359  0.0000000000  0.0000000000

      ###########################################################################################################################           
      Hadron Magnets Coordinates for IR8 - machine frame with origin (0.65 m, 0.0 m, -0.2975 m) and + 0.024 rad crossing angle

      ##    name          center position          rin(z-in)     rin(z-out)     length       angle          B         gradient
      ##              x [m]   y [m]    z [m]         [m]            [m]           [m]        [mrad]        [T]          [T/m]
      ##
          BXSP01  0.801778351  0.0  6.100348950  0.24500000000  0.3450000000  1.199999855  -11.00000  1.3000000000  0.0000000000    
         BXSP01A  0.843720782  0.0  7.900209661  0.09000000000  0.1900000000  0.600000000  22.299359  0.0000000000  0.0000000000
        QFFDS01A  0.881626550  0.0  9.599787009  0.06126951284  0.1720007125  2.000000000  22.299359  0.0000000000  -64.31060997
        QFFDS01B  0.935140577  0.0  11.99919032  0.08934379620  0.2219882816  1.800000000  22.299359  0.0000000000  -41.88567780
        QFFDS02A  1.006492613  0.0  15.19839474  0.12244165240  0.2779743588  2.600000000  22.299359  0.0000000000  32.703373210
        QFFDS02B  1.075614898  0.0  18.29762401  0.14241010290  0.3399589444  2.600000000  22.299359  0.0000000000  28.246908810
         BXDS01A  1.171875256  0.0  22.59659629  0.17000000000  0.2700000000  4.999869790  18.051597  4.5865063750  0.0000000000
         BXDS01B  1.134575985  0.0  39.39674028  0.05500000000  0.1550000000  2.599981686  3.7993590  -4.586506375  0.0000000000
           QDS01  1.155478830  0.0  42.24663953  0.04000000000  0.1400000000  1.100000000  10.299359  0.0000000000  20.296269000
        2ndfocus  1.185861402  0.0  45.19648307  0.00000000000  0.0000000000  0.000000000  10.299359  0.0000000000  0.0000000000

      ##  Values taken from: https://wiki.bnl.gov/eic-detector-2/images/4/42/IR8_magnet_layout_2023_12_11.xlsx

      Converted Hadron Magnets Coordinates for IR8 - with origin (0.0 m, 0.0 m, 0.0 m) and + 0.035 rad crossing angle

      ##    name          center position          rin(z-in)     rin(z-out)     length       angle          B         gradient
      ##              x [m]   y [m]    z [m]         [m]            [m]           [m]        [mrad]        [T]          [T/m]
      ##
          BXSP01  0.222144     0.0  6.39579      0.24500000000  0.3450000000  1.199999855  0.00000    1.3000000000  0.0000000000    
         BXSP01A  0.283882     0.0  8.19508      0.09000000000  0.1900000000  0.600000000  33.299359  0.0000000000  0.0000000000
        QFFDS01A  0.340480     0.0  9.89414      0.06126951284  0.1720007125  2.000000000  33.299359  0.0000000000  -64.31060997
        QFFDS01B  0.420384     0.0  12.2928      0.08934379620  0.2219882816  1.800000000  33.299359  0.0000000000  -41.88567780
        QFFDS02A  0.526922     0.0  15.4910      0.12244165240  0.2779743588  2.600000000  33.299359  0.0000000000  32.703373210
        QFFDS02B  0.630131     0.0  18.5893      0.14241010290  0.3399589444  2.600000000  33.299359  0.0000000000  28.246908810
         BXDS01A  0.773674     0.0  22.8870      0.17000000000  0.2700000000  4.999869790  29.051597  4.5865063750  0.0000000000
         BXDS01B  0.921175     0.0  39.6865      0.05500000000  0.1550000000  2.599981686  14.799359  -4.586506375  0.0000000000
           QDS01  0.973424     0.0  42.5360      0.04000000000  0.1400000000  1.100000000  21.299359  0.0000000000  20.296269000
        2ndfocus  1.036250     0.0  45.4853      0.00000000000  0.0000000000  0.000000000  21.299359  0.0000000000  0.0000000000            
    </comment>

    <constant name="BXSP01_InnerRadius"    value="0.24500000000*m"/>
    <constant name="BXSP01A_InnerRadius"   value="0.09000000000*m"/>
    <constant name="QFFDS01A_InnerRadius"  value="0.06126951284*m"/>
    <constant name="QFFDS01B_InnerRadius"  value="0.08934379620*m"/>
    <constant name="QFFDS02A_InnerRadius"  value="0.12244165240*m"/>
    <constant name="QFFDS02B_InnerRadius"  value="0.14241010290*m"/>
    <constant name="BXDS01A_InnerRadius"   value="0.17000000000*m"/>
    <constant name="BXDS01B_InnerRadius"   value="0.05500000000*m"/>
    <constant name="QDS01_InnerRadius"     value="0.04000000000*m"/>

    <constant name="BXSP01_RotationAngle"    value="0.000000000*rad"/>
    <constant name="BXSP01A_RotationAngle"   value="0.033299359*rad"/>
    <constant name="QFFDS01A_RotationAngle"  value="0.033299359*rad"/>
    <constant name="QFFDS01B_RotationAngle"  value="0.033299359*rad"/>
    <constant name="QFFDS02A_RotationAngle"  value="0.033299359*rad"/>
    <constant name="QFFDS02B_RotationAngle"  value="0.033299359*rad"/>
    <constant name="BXDS01A_RotationAngle"   value="0.029051597*rad"/>
    <constant name="BXDS01B_RotationAngle"   value="0.014799359*rad"/>
    <constant name="QDS01_RotationAngle"     value="0.021299359*rad"/>

    <constant name="BXSP01_CenterPosition"    value="6.39579*m"/>
    <constant name="BXSP01A_CenterPosition"   value="8.19508*m"/>
    <constant name="QFFDS01A_CenterPosition"  value="9.89414*m"/>
    <constant name="QFFDS01B_CenterPosition"  value="12.2928*m"/>
    <constant name="QFFDS02A_CenterPosition"  value="15.4910*m"/>
    <constant name="QFFDS02B_CenterPosition"  value="18.5893*m"/>
    <constant name="BXDS01A_CenterPosition"   value="22.8870*m"/>
    <constant name="BXDS01B_CenterPosition"   value="39.6865*m"/>
    <constant name="QDS01_CenterPosition"     value="42.5360*m"/>

    <constant name="BXSP01_XPosition"    value="0.222144*m"/>
    <constant name="BXSP01A_XPosition"   value="0.283882*m"/>
    <constant name="QFFDS01A_XPosition"  value="0.340480*m"/>
    <constant name="QFFDS01B_XPosition"  value="0.420384*m"/>
    <constant name="QFFDS02A_XPosition"  value="0.526922*m"/>
    <constant name="QFFDS02B_XPosition"  value="0.630131*m"/>
    <constant name="BXDS01A_XPosition"   value="0.773674*m"/>
    <constant name="BXDS01B_XPosition"   value="0.921175*m"/>
    <constant name="QDS01_XPosition"     value="0.973424*m"/>
    
    <constant name="BXSP01_Length"    value="1.199999855*m"/>
    <constant name="BXSP01A_Length"   value="0.600000000*m"/>
    <constant name="QFFDS01A_Length"  value="2.000000000*m"/>
    <constant name="QFFDS01B_Length"  value="1.800000000*m"/>
    <constant name="QFFDS02A_Length"  value="2.600000000*m"/>
    <constant name="QFFDS02B_Length"  value="2.600000000*m"/>
    <constant name="BXDS01A_Length"   value="4.999869790*m"/>
    <constant name="BXDS01B_Length"   value="2.599981686*m"/>
    <constant name="QDS01_Length"     value="1.100000000*m"/>
  </define>
